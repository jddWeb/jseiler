// ======================================================
// layout/_l-header.scss – (unverändert außer Mobil-Toggle-Platzierung)
// ======================================================

@use "sass:color";
@use "sass:meta";
@use "globals" as *;

$__dark-bg: if(meta.global-variable-exists(color-dark), $color-dark, #101418);
$__on-dark: if(meta.global-variable-exists(color-on-dark), $color-on-dark, #ffffff);
$__primary: if(meta.global-variable-exists(color-primary), $color-primary, #00ac80);
$__max-content: if(meta.global-variable-exists(max-content-width), $max-content-width, 1200px);
$__max-header: if(meta.global-variable-exists(max-header-width), $max-header-width, $__max-content);
$__shadow-soft: if(meta.global-variable-exists(shadow-soft), $shadow-soft, 0 4px 14px rgba(0, 0, 0, .08));

$__bp-desktop: 1230px;
$__bp-mobile-max: 1229px;

/* HEADER */
.c-header { position: sticky; top: 0; z-index: 1000; background-color: #fff; transition: box-shadow .3s ease, background-color .3s ease; box-shadow: none;
  &.is-sticky { box-shadow: $__shadow-soft; }
}

/* ... Topbar (deine bestehende Fassung) ... */

/* CONTAINER */
.c-header__container {
  position: relative;
  display: flex; flex-wrap: nowrap; justify-content: space-between; align-items: center;
  max-width: $__max-header; margin: 0 auto; padding: 1.75rem 1rem; gap: 1rem;

  @media (min-width: $__bp-desktop) {
    .c-logo { order: 1; }
    > nav.c-menu { order: 2; }
    .c-header__cta { order: 3; margin-left: 2.25rem; }
  }

  @media (max-width: $__bp-mobile-max) {
    flex-direction: column; align-items: stretch; gap: .75rem;
    > nav.c-menu { position: static !important; }

    /* Fix: Toggle sichtbar & mittig auf Logo-Höhe */
    > nav.c-menu > .c-menu__toggle {
      position: absolute !important;
      top: calc(1.75rem + 20px) !important; /* 1.75rem Padding + 20px (Logo-Hälfte bei 40px) */
      right: 1rem !important;
      transform: translateY(-50%) !important;
      width: 32px !important; height: 24px !important;
      display: inline-flex !important;
      padding: 0 !important; border: 0 !important; background: none !important;
      z-index: 1005 !important;
      visibility: visible !important; opacity: 1 !important;
    }

    @media (min-width: 992px) and (max-width: $__bp-mobile-max) {
      > nav.c-menu > .c-menu__toggle { top: calc(1.75rem + 25px) !important; }
    }

    padding-top: 2.25rem;
    .c-header__cta { order: 1; }
    > nav.c-menu { order: 2; }
    .c-menu { width: 100%; }
  }
}

/* Logo/CTA – (wie vorher, unverändert) */
